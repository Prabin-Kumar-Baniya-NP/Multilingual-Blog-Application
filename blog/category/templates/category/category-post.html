{% extends 'base.html' %}
{% load tz %}
{% block content %}
    <div class="container blog-container bg-white mt-3 mb-3 p-2 fs-5">
      {% if page_obj %}
      <div class="blog-type-title fs-4 p-1 p-md-2">
          <h5 class="text-center">Here are your posts</h5>
      </div>
      <div class="blog-collections">
          {% for post in page_obj %}
          <div class="card text-dark bg-light mb-3">
              <div class="card-body">
                  <div class="header row">
                      <div class="card-title fw-bold fs-5 col-12 col-md-auto">{{ post.title }}</div>
                      {% timezone "Asia/Kathmandu" %}
                      <small class="text-muted col-12 col-md-auto mt-0 mt-md-1">  {{ post.published_on|date:"d M, Y" }}</small>
                      {% endtimezone %}
                  </div>
                  <div class="card-text post-body">
                      {{ post.body }}
                  </div>
                  <div class="card-text d-flex justify-content-end">
                      <span class="text-muted mt-1"><a href="{% url 'post:view-post' post.id %}">Click Here To Read</a></span>
                  </div>
              </div>
          </div>
          {% endfor %}
          
              <div class="pagination-container">
                  <ul class="pagination justify-content-center">
                      {% if page_obj.has_previous %}
                      <li class="page-item">
                        <a class="page-link" href="?page=1" tabindex="-1" aria-disabled="true">First</a>
                      </li>
                      <li class="page-item">
                          <a class="page-link" href="?page={{ page_obj.previous_page_number }}" tabindex="-1" aria-disabled="true">Previous</a>
                        </li>
                        {% endif %}
                        <div class="m-2">
                          <span class="current">
                              Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}
                          </span>
                        </div>
                      {% if page_obj.has_next %}
                      <li class="page-item">
                        <a class="page-link" href="?page={{ page_obj.next_page_number }}">Next</a>
                      </li>
                      <li><a class="page-link" href="?page={{ page_obj.paginator.num_pages }}">Last</a></li>
                      {% endif %}
                    </ul>
              </div>
              
      </div>
      {% else %}
      <div class="text-center">
          No post found in the database
      </div>
      {% endif %}

  </div>
{% endblock %}